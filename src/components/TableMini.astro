---
interface Row {
  segment: string;
  alignment: string;
  sentiment: string;
  toneRisk: string;
  engagement: string;
}

interface Props {
  rows?: Row[];
  caption?: string;
}

const defaultRows: Row[] = [
  { segment: "Liberal", alignment: "4.4 / 5", sentiment: "4.4 / 5", toneRisk: "Low", engagement: "High" },
  { segment: "Moderate", alignment: "3.2 / 5", sentiment: "3.2 / 5", toneRisk: "Med", engagement: "Mod" },
  { segment: "Conservative", alignment: "2.1 / 5", sentiment: "2.1 / 5", toneRisk: "High", engagement: "Low" }
];

const { rows = defaultRows, caption = "Illustrative output. Full quotes and tags included in the report." } = Astro.props;
---

<div class="mt-4 bg-white border border-borderSoft rounded-xl p-4 shadow-subtle reveal">
  <div class="overflow-x-auto">
    <table class="min-w-full text-[11px] text-left">
      <thead>
        <tr class="text-slate-500">
          <th class="py-2 pr-3 font-medium">Segment</th>
          <th class="py-2 pr-3 font-medium">Avg Sentiment</th>
          <th class="py-2 pr-3 font-medium">Tone Risk</th>
          <th class="py-2 pr-3 font-medium">Engagement Potential</th>
        </tr>
      </thead>
      <tbody class="text-slate-800">
        {rows.map((row) => (
          <tr class="border-t border-slate-100">
            <td class="py-2 pr-3 font-medium text-ink">{row.segment}</td>
            <td class="py-2 pr-3">{row.sentiment}</td>
            <td class={`py-2 pr-3 ${row.toneRisk === "High" ? "text-danger" : row.toneRisk === "Med" ? "text-warning" : "text-success"}`}>
              {row.toneRisk}
            </td>
            <td class="py-2 pr-3">{row.engagement}</td>
          </tr>
        ))}
      </tbody>
    </table>
  </div>
  <p class="mt-2 text-[10px] text-slate-500">
    {caption}
  </p>
</div>
